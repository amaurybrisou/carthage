class Translation {
    construct (local){
        this->local = local
    }
    locale string(2)
    
    title
    description
}

class page {
    privtae locale;
    private translation;
    
    /many to many
    private translations = new ArrayCollection();
    
    consturct(locale){
        this->translation  = new Translation(locale);
        this->locale = locale
        this->translations->add(&$this->translation);
    }
    
    /**
    * cascade=[persist]
    */
    id
    slug string
    
    public setTitle($title, slug){
        this->slug = slug;
        $this->translation->setTitle(title);
    }
    
    getTranslationByLocal(locale){
        foreach(this->translations as t) {
            if(t.getLocale() === locale)
                return t;
        }
    }
}

new page('es')

page->setTitle();
em->persist(page);
em-flush();


class controller scope {
    //entity manager
    page = findBySlug('home')
    SpanishTranslation = page->getTranslationByLocal(locale)
}

///////////////////////////////////////////

Translation = new Translation('es');
Translation->setKey('pageDescription');
Translation->setValue('Some description');

Translation = new Translation('es');
Translation->setKey('pageTitle');
Translation->setValue('some Title');
